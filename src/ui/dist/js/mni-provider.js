let ready=null,retryMs=5e3,refreshMs=3e5,chartProvider=null,emailProvider=0,kafkaProvider=0,mapProvider=0,workflowProvider=0;function fetchProviderStats(){null!=ready&&clearTimeout(ready),fetch(localStorage.getItem("mni.gatewayUrl")+"/ui/statistic",{method:"GET",headers:{Accept:"application/json"},keepalive:!0}).then((r=>{if(r.ok)return r.json()})).then((r=>{null!=r.providers&&(null!=r.providers?.email&&(emailProvider=toInteger(r.providers.email)),null!=r.providers?.kafka&&(kafkaProvider=toInteger(r.providers.kafka)),null!=r.providers?.map&&(mapProvider=toInteger(r.providers.map)),null!=r.providers?.workflow&&(workflowProvider=toInteger(r.providers.workflow))),Chart.defaults.font.family="Lato",null!=chartProvider?(chartProvider.data.datasets[0].data[0]=emailProvider,chartProvider.data.datasets[0].data[1]=kafkaProvider,chartProvider.data.datasets[0].data[2]=mapProvider,chartProvider.data.datasets[0].data[3]=workflowProvider,chartProvider.update()):chartProvider=new Chart("providerSummary",{type:"bar",options:{indexAxis:"y",responsive:!0,scales:{x:{display:!1,stacked:!0,grid:{display:!1},scales:{x:{display:!1}}},y:{stacked:!0,grid:{display:!1}}},plugins:{legend:{display:!1}}},data:{labels:["Email","Kafka","Map","Workflow"],datasets:[{data:[emailProvider,kafkaProvider,mapProvider,workflowProvider],backgroundColor:"rgba(109,43,220,1)",hoverBackgroundColor:"rgba(73,16,171,1)"}]}}),ready=setTimeout(fetchProviderStats,refreshMs)})).catch((r=>{notify(r)}))}try{fetchProviderStats()}catch(r){notify(r)}