function resetMinMax(t){let e=document.getElementById(t+"Unit"),i=e.options[e.selectedIndex].value,n=document.getElementById(t+"Duration");switch(i){case"day":n.setAttribute("min","1"),n.setAttribute("max","31");break;case"week":n.setAttribute("min","1"),n.setAttribute("max","52");break;case"month":n.setAttribute("min","1"),n.setAttribute("max","12");break;case"quarter":n.setAttribute("min","1"),n.setAttribute("max","4");break;case"year":n.setAttribute("min","1"),n.setAttribute("max","10");break;default:e.setAttribute("min","1"),e.setAttribute("max","99")}}function saveAdminData(){let t=document.getElementById("historicalDuration"),e=document.getElementById("historicalUnit"),i=document.getElementById("predictedDuration"),n=document.getElementById("historicalUnit"),a=t.value,r=e.options[e.selectedIndex].value,o=i.value,d=n.options[n.selectedIndex].value,c={historical:{duration:toInteger(a),unit:r},predicted:{duration:toInteger(o),unit:d}};fetch(localStorage.getItem("mni.gatewayUrl")+"/admin/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),keepalive:!0}).catch((t=>{console.error(t)}))}function fetchAdminData(){fetch(localStorage.getItem("mni.gatewayUrl")+"/admin/data",{method:"GET",headers:{Accept:"application/json"},keepalive:!0}).then((t=>{if(t.ok)return t.json()})).then((t=>{let e=3,i="month",n=1,a="week";null!=t.historical?.duration&&(e=t.historical.duration),null!=t.historical?.unit&&(i=t.historical.unit),null!=t.predicted?.duration&&(n=t.predicted.duration),null!=t.predicted?.unit&&(a=t.predicted.unit),document.getElementById("historicalDuration").value=e,document.getElementById("historicalUnit").value=i,document.getElementById("predictedDuration").value=n,document.getElementById("predictedUnit").value=a})).catch((t=>{console.error(t)}))}try{resetMinMax("historical"),resetMinMax("predicted"),fetchAdminData()}catch(t){console.error(t)}