<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>MNI</title>
    <link rel="stylesheet" href="/mni/css/style.css">
    <link rel="stylesheet" href="/mni/css/font-awesome.min.css">
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="img/icon.png">
    <style>
        .panel {
            width: 30%;
            height: 40%;
            border-radius: 10px;
            background-color: #b3b3b3;
            color: #000000;
            text-align: center;
            margin-top: 20px;
            margin-left: 20px;
            display: inline-block;
        }

        .rack-panel {
            width: 100%;
            height: calc(70vh - 10px);
            margin-top: 20px;
            display: grid;
        }

        .grid {
            --max-rack-slots=42;
            display: grid;
            grid-template-rows: repeat(var(--max-rack-slots), 1fr);
            grid-template-columns: repeat(1, 1fr);
            width: 200px;
            height: calc(75vh - 20px);
        }

        .slotFree {
            border: 1px solid black;
            background-color: white;
            text-align: left;
            font-size: 0.50em;
            text-indent: 1em;
            color: black;
        }

        .slotUsed {
            border: 1px solid black;
            background-color: black;
            text-align: left;
            font-size: 0.50em;
            text-indent: 1em;
            color: white;
        }

        .slotReserved {
            border: 1px solid black;
            background-color: darkgray;
            text-align: left;
            font-size: 0.50em;
            text-indent: 1em;
            color: black;
        }

        .slotPredicted {
            border: 1px solid black;
            background: repeating-linear-gradient(135deg, #000000 0, #000000 10%, transparent 0, transparent 50%);
            background-size: 1.25em 1.25em;
            opacity: 1;
            text-align: left;
            font-size: 0.50em;
            text-indent: 1em;
            color: black;
        }
    </style>
    <script async src="/mni/js/mni.js"></script>
</head>

<body>
    <div class="icon-bar" id="icon-bar">
        <a nohref onmouseover="" style="cursor: pointer;" title="MarlinDT Network Intelligence"><img src="/favicon.ico"
                width="25%" height="25%"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/dashboard');"
            title="Dashboard"><i class="fa fa-thermometer-half"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/cable');"
            title="Cables"><i class="fa fa-plug"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/duct');"
            title="Ducts"><i class="fa fa-superpowers"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/pole');"
            title="Poles"><i class="fa fa-arrows-v"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/ne');"
            title="Network Equipment"><i class="fa fa-server"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref class="active" title="Racks"><i class="fa fa-list-ol"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/site');"
            title="Sites"><i class="fa fa-building-o"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/service');"
            title="Services"><i class="fa fa-tty"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/rack');"
            title="Trenches"><i class="fa fa-arrows-h"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/rackLifetime');"
            title="Trenches (lifetime)"><i class="fa fa-vine"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/provider');"
            title="Providers"><i class="fa fa-handshake-o"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/alert');"
            title="Alerts"><i class="fa fa-bullhorn"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/setting');"
            title="Settings"><i class="fa fa-cog"></i></a>
        <a nohref onclick="window.alert('<%=payload.appName%> v<%=payload.appVersion%>.<%=payload.appBuild%>');
            return false;" title="About"><i class="fa fa-info-circle"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="return jump('<%=payload.rootUrl%>/help');"
            title="Help"><i class="fa fa-question-circle"></i></a>
        <a onmouseover="" style="cursor: pointer;" nohref onclick="logout();" title="Quit"><i
                class="fa fa-window-close"></i></a>
        <a nohref onmouseover="" style="cursor: pointer;" accesskey="h" onclick="toggleDiv('icon-bar');return false;"
            title="Toggle Bar | Mac <ctrl><opt>H | Windows: <alt><shift> |"><i class="fa fa-bars"></i></a>
    </div>
    <div class="panel" id="resourcePanel">
        <div class="rack-select" id="rackList">
            <label for="rackId">Rack</label>
            <select id="rackId" onchange="if(this.selectedIndex !== undefined) fetchRackPoints();"></select>
            <a accesskey="@" nohref onclick="fetchListRack();" onmouseover="" title="refresh"
                style="cursor: pointer;"><i style="color:white;" class="fa fa-refresh"></i></a>
            <label for="rackPoint">Point</label>
            <select id="rackPoint" onchange="if(this.selectedIndex !== undefined) fetchRackProps();"></select>
        </div>
    </div>
    <div class="rack-panel" id="rackPanel"><div class="grid" id="rackGrid"></div></div>
    <div class="footer">
        <p>Â© 2024-2025 Merkator nv/sa. All rights reserved.</p>
    </div>
    <script>
        var maxSlots = 42;
        const grid = document.querySelector(".grid");
        grid.style.setProperty("--max-rack-slots", maxSlots);
        for (let j = 0; j < maxSlots; j++) {
            let cell = document.createElement("div");
            cell.setAttribute("class", "slotFree");
            cell.setAttribute("id", "slot" + (maxSlots - j));
            if (j > Math.floor(maxSlots / 2)) {
                if (j % 2 == 0) {
                    cell.setAttribute("class", "slotUsed");
                    cell.setAttribute("title", maxSlots - j + ": used");
                } else {
                    cell.setAttribute("class", "slotReserved");
                    cell.setAttribute("title", maxSlots - j + ": reserved");
                }
            } else {
                if (j == 41) {
                    cell.setAttribute("class", "slotPredicted");
                    cell.setAttribute("title", maxSlots - j + ": predicted");
                } else {
                    cell.setAttribute("class", "slotFree");
                    cell.setAttribute("title", maxSlots - j + ": free");
                }
            }
            cell.classList.add("cell");
            grid.appendChild(cell);
            document.getElementById("slot" + (maxSlots - j)).innerHTML = (maxSlots - j);
        }
    </script>
</body>

</html>