#!/bin/bash
function dln() {
    [[ -f "${1}.json" ]] && rm -f ${1}.json &>/dev/null
    [[ -f "${1}.geojson" ]] && rm -f ${1}.geojson &>/dev/null
    curl --fail --location --output ${1}.json "https://www.geoboundaries.org/api/current/gbOpen/${1}/ADM0/"
    if [[ -f "${1}.json" ]] ; then
      LNK=$(jq --exit-status -r '.simplifiedGeometryGeoJSON' ${1}.json)
      curl --fail --location --output ${1}.geojson "${LNK}"
    fi
}
dln "ABW"
dln "AFG"
dln "AGO"
dln "AIA"
dln "ALB"
dln "AND"
dln "ARE"
dln "ARG"
dln "ARM"
dln "ASM"
dln "ATA"
dln "ATG"
dln "AUS"
dln "AUT"
dln "AZE"
dln "BDI"
dln "BEL"
dln "BEN"
dln "BES"
dln "BFA"
dln "BGD"
dln "BGR"
dln "BHR"
dln "BHS"
dln "BIH"
dln "BLM"
dln "BLR"
dln "BLZ"
dln "BMU"
dln "BOL"
dln "BRA"
dln "BRB"
dln "BRN"
dln "BTN"
dln "BWA"
dln "CAF"
dln "CAN"
dln "CHE"
dln "CHL"
dln "CHN"
dln "CIV"
dln "CMR"
dln "COD"
dln "COG"
dln "COK"
dln "COL"
dln "COM"
dln "CPV"
dln "CRI"
dln "CUB"
dln "CUW"
dln "CYM"
dln "CYP"
dln "CZE"
dln "DEU"
dln "DJI"
dln "DMA"
dln "DNK"
dln "DOM"
dln "DZA"
dln "ECU"
dln "EGY"
dln "ERI"
dln "ESP"
dln "EST"
dln "ETH"
dln "FIN"
dln "FJI"
dln "FLK"
dln "FRA"
dln "FRO"
dln "FSM"
dln "GAB"
dln "GBR"
dln "GEO"
dln "GGY"
dln "GHA"
dln "GIB"
dln "GIN"
dln "GLP"
dln "GMB"
dln "GNB"
dln "GNQ"
dln "GRC"
dln "GRD"
dln "GRL"
dln "GTM"
dln "GUF"
dln "GUM"
dln "GUY"
dln "HND"
dln "HRV"
dln "HTI"
dln "HUN"
dln "IDN"
dln "IMN"
dln "IND"
dln "IRL"
dln "IRN"
dln "IRQ"
dln "ISL"
dln "ISR"
dln "ITA"
dln "JAM"
dln "JOR"
dln "JPN"
dln "KAZ"
dln "KEN"
dln "KGZ"
dln "KHM"
dln "KIR"
dln "KNA"
dln "KOR"
dln "KWT"
dln "LAO"
dln "LBN"
dln "LBR"
dln "LBY"
dln "LCA"
dln "LIE"
dln "LKA"
dln "LSO"
dln "LTU"
dln "LUX"
dln "LVA"
dln "MAR"
dln "MCO"
dln "MDA"
dln "MDG"
dln "MDV"
dln "MEX"
dln "MHL"
dln "MKD"
dln "MLI"
dln "MLT"
dln "MMR"
dln "MNE"
dln "MNG"
dln "MNP"
dln "MOZ"
dln "MRT"
dln "MSR"
dln "MTQ"
dln "MUS"
dln "MWI"
dln "MYS"
dln "MYT"
dln "NAM"
dln "NCL"
dln "NER"
dln "NGA"
dln "NIC"
dln "NIU"
dln "NLD"
dln "NOR"
dln "NPL"
dln "NRU"
dln "NZL"
dln "OMN"
dln "PAK"
dln "PAN"
dln "PCN"
dln "PER"
dln "PHL"
dln "PLW"
dln "PNG"
dln "POL"
dln "PRK"
dln "PRT"
dln "PRY"
dln "PSE"
dln "PYF"
dln "QAT"
dln "REU"
dln "ROU"
dln "RUS"
dln "RWA"
dln "SAU"
dln "SDN"
dln "SEN"
dln "SGP"
dln "SHN"
dln "SLB"
dln "SLE"
dln "SLV"
dln "SMR"
dln "SOM"
dln "SRB"
dln "SSD"
dln "STP"
dln "SUR"
dln "SVK"
dln "SVN"
dln "SWE"
dln "SWZ"
dln "SYC"
dln "SYR"
dln "TCA"
dln "TCD"
dln "TGO"
dln "THA"
dln "TJK"
dln "TKL"
dln "TKM"
dln "TLS"
dln "TON"
dln "TTO"
dln "TUN"
dln "TUR"
dln "TUV"
dln "TWN"
dln "TZA"
dln "UGA"
dln "UKR"
dln "URY"
dln "USA"
dln "UZB"
dln "VAT"
dln "VCT"
dln "VEN"
dln "VGB"
dln "VIR"
dln "VNM"
dln "VUT"
dln "WLF"
dln "WSM"
dln "YEM"
dln "ZAF"
dln "ZMB"
dln "ZWE"